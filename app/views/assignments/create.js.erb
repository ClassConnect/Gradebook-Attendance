destroy_table();

created_assignment = new_assignment("<%= @assignment.id %>", <%= @assignment.point_value %>);
assignments_array.push(created_assignment);

$('.datatable').width(function(index, value){
  return assignments_array.length * 150;
})
//this is incredibly ghetto...we'll have to read to find where this damn thing is placed
$('.dataTables_scroll').attr('style', "");
$("<th class='assignment_header' id=<%=@assignment.id%>><%=@assignment.name%><img class='hover_button' align='right' src='/assets/exclm.png' title='hi' /></th>").insertAfter('thead th:last');

var student_count=0;
$('.datatable tbody tr').each(function(index, value){
  $(this).append("<td align='center'  width='150'></td>");
  student_count++;
});

$(".hover_button").not('.tt_init').tooltip(jeditable_dictionary);
$(".hover_button").not('.tt_init').addClass('tt_init');

initTable(student_count);