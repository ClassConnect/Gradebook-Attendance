var position = find_assignment_by_id("<%= @grade_id %>");
var true_position =  get_true_position(position);
assignments_array.splice(position, 1);
oTable.fnSetColumnVis(true_position, false);
if(true_position > 0){
  $('.dataTables_scrollBody .datatable tbody tr').each(function(){
    $(this).children()[position].remove();
    var grade = calculateGrade(this);
    apply_grade(this, grade);
  }); 
  $('.dataTables_scrollHead .datatable #' + "<%= @grade_id %>").remove();
}
//fnUpdate can be made faster. Look into this later